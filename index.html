<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./reset.css">
  <style>
    body, 
    html {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    ul,
    li {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      list-style: none;
    }
    body {
    width: 100vw;
    position: relative;
  }

  .outer {
    width: 100vw;
    height: 177.86666666vw;
    position: relative;
  }

    video {
    position: absolute;
    width: 100vw;
    left: 0;
    top: 0;
  }
    
  /* 这里为功能菜单的模块 */
  .functionmodule {
  width: 100vw;
  position: absolute;
  display: flex;
  justify-content: space-evenly;
  left: 0;
  bottom: 0;
}

.functionmodule li {
  text-align: center;
  width: 12vw;
  height: 20vw;
  border-radius: 2vw;
  border: 0.5vw solid black;
  line-height: 20vw;
  background-color: aquamarine;
  opacity: 1;
  transition: all 1s;
}

/* 这里为内容模块 */
.contentmodule {
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100vw;
  height: 177.86666666vw;
}

.contentmodule .diyiceng {
  display: flex;
  flex-wrap: wrap;
  position: absolute;
  width: 100vw;
  height: 0;
  background-color: white;
  overflow: auto;
  transition: all 1s;
}

.contentmodule .diyiceng .stockouter {
  width: 100vw;
  min-height: 50vw;
  display: flex;
  align-content: flex-start;
  flex-wrap: wrap;
}

/* 股票走势图和购买 */
.contentmodule li .stockouter>ul {
  width: 100vw;
}

.stockouter .stockname {
  display: flex;
  font-weight: bold;
  width: 100vw;
  height: 10vw;
}

.stockname li {
  text-align: center;
  line-height: 10vw;
}

.stockname li:first-child {
  width: 60vw;
  height: 10vw;
  background-color: white;
}

.stockname li:last-child {
  width: 40vw;
  height: 10vw;
  background-color: rgb(251, 47, 59);
  /* background-color: rgb(27, 192, 124); */
}

/* 股票的浮动图 */
.stockgraphic {
  display: flex;
  width: 100vw;
  min-height: 30vw;
  border-bottom: 0.5vw dashed black;
  align-items: flex-end;
}
.stockgraphic .cylinder {
  width: 10vw;
  display: flex;
  flex-wrap: wrap;
}
.cylinder .showtop {
  width: 10vw;
  height: 1vw;
  background-color: rgb(27, 192, 124);
  /* background-color: rgb(251, 47, 59); */
}
.cylinder .hiddendown {
  width: 10vw;
}
.stockpurchase {
  display: flex;
  width: 100vw;
  height: 10vw;
  padding-left: 2vw;
  border-bottom: 0.5vw solid black;
}

.stockpurchase li:first-child {
  display: flex;
  align-items: center;
  width: 60vw;
  height: 10vw;
}

.stockpurchase span {
  width: 9vw;
  height: 8vw;
  font-size: 6vw;
  border-radius: 1vw;
  font-weight: bold;
  text-align: center;
  line-height: 8vw;
  background-color: rgb(240, 240, 240);
  border: 0.5vw solid black;
}

.stockpurchase input {
  margin-left: 1vw;
  margin-right: 1vw;
  width: 40vw;
  height: 8vw;
  font-size: 6vw;
  border-radius: 2vw;
  text-align: center;
  line-height: 8vw;
}

.stockpurchase li:last-child {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 38vw;
  height: 10vw;
}

.stockpurchase button {
  width: 30vw;
  height: 8vw;
  font-size: 6vw;
  border: 0.5vw solid black;
  border-radius: 1vw;
}
  </style>
</head>

<body>
  <div class="outer">
    <video src="./num1_animation.mp4" loop muted autoplay preload=”auto”></video>
    <!-- 内容模块 -->
    <ul class="contentmodule">
      <li class="diyiceng">
        <div>打工</div>
      </li>
      <!-- 分割 -->
      <li class="diyiceng">
        <div class="stockouter">
          <ul class="stockname">
            <li>有机农产公司股票价格</li>
            <li class="gujia">18</li>
          </ul>
          <ul class="stockgraphic">
            <ul class="cylinder">
              <li class="showtop"></li>
              <li class="hiddendown"></li>
            </ul>
            <ul class="cylinder">
              <li class="showtop"></li>
              <li class="hiddendown"></li>
            </ul>
            <ul class="cylinder">
              <li class="showtop"></li>
              <li class="hiddendown"></li>
            </ul>
            <ul class="cylinder">
              <li class="showtop"></li>
              <li class="hiddendown"></li>
            </ul>
            <ul class="cylinder">
              <li class="showtop"></li>
              <li class="hiddendown"></li>
            </ul>
            <ul class="cylinder">
              <li class="showtop"></li>
              <li class="hiddendown"></li>
            </ul>
            <ul class="cylinder">
              <li class="showtop"></li>
              <li class="hiddendown"></li>
            </ul>
            <ul class="cylinder">
              <li class="showtop"></li>
              <li class="hiddendown"></li>
            </ul>
            <ul class="cylinder">
              <li class="showtop"></li>
              <li class="hiddendown"></li>
            </ul>
            <ul class="cylinder">
              <li class="showtop"></li>
              <li class="hiddendown"></li>
            </ul>
          </ul>
          <ul class="stockpurchase">
            <li>
              <span>-</span>
              <input type="text" value="1">
              <span>+</span>
            </li>
            <li><button>购买</button></li>
          </ul>
  </div>
  <script>
    let fm = document.querySelectorAll('.functionmodule li')
let cm = document.querySelectorAll('.contentmodule .diyiceng')
for (let i = 0; i < fm.length; i++) {
    fm[i].addEventListener('click', function() {
        if (this.style.opacity == 0.5) {
            this.style.opacity = 1
            cm[i].style.height = '0vw'
        } else {
            for (let j = 0; j < fm.length; j++) {
                fm[j].style.opacity = 1
                cm[j].style.height = '0vw'
            }
            this.style.opacity = 0.5
            cm[i].style.height = '177.86666666vw'
        }
    })
}
let gujia = document.querySelector('.gujia')
let showtops = document.querySelectorAll('.showtop')
let hiddendowns = document.querySelectorAll('.hiddendown')
const zhangfu = [-1, 1]
let shi = [0,0,0,0,0,0,0,0,0,0]
let round = setInterval(() => {
    shi.unshift((parseInt(gujia.innerText)+zhangfu[Math.floor(Math.random()*2)])>0?(parseInt(gujia.innerText)+zhangfu[Math.floor(Math.random()*2)]):0)
    shi.pop()
    for (let i = 0; i < shi.length; i++) {
        if (shi[i]>hiddendowns[shi.length-i-1].offsetHeight) {
            showtops[shi.length-i-1].style.backgroundColor = `rgb(251, 47, 59)`
        }else {
            showtops[shi.length-i-1].style.backgroundColor = `rgb(27, 192, 124)`
        }
        hiddendowns[shi.length-i-1].style.height = shi[i] + 'px'
    }
    if (shi[0] > gujia.innerText) {
        gujia.style.backgroundColor = `rgb(251, 47, 59)`
    } else {
        gujia.style.backgroundColor = `rgb(27, 192, 124)`
    }
    gujia.innerText = shi[0]
}, 1000);
  </script>
</body>

</html>
